# üìö –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –±–æ—Ç–∞

## –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ
1. [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
3. [–°—Ç—Ä–∞—Ç–µ–≥–∏–∏](#—Å—Ç—Ä–∞—Ç–µ–≥–∏–∏)
4. [API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](#api-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
5. [–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
6. [–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è](#–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)
7. [–ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã](#—á–∞—Å—Ç–æ-–∑–∞–¥–∞–≤–∞–µ–º—ã–µ-–≤–æ–ø—Ä–æ—Å—ã)

---

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ú–∏–Ω–∏–º—É–º —Ç—Ä–µ–±—É–µ–º—ã—Ö —à–∞–≥–æ–≤:

```bash
# 1. –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ
git clone <repo_url>
cd trade

# 2. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# 3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Å –≤–∞—à–∏–º–∏ –∫–ª—é—á–∞–º–∏ Bybit

# 4. –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å—Ç–∞–Ω–æ–≤–∫—É
python setup.py

# 5. –ó–∞–ø—É—Å–∫–∞–µ–º –Ω–∞ testnet (–±–µ–∑–æ–ø–∞—Å–Ω–æ!)
python main.py --pairs 20 --interval 300 --testnet

# 6. –ú–æ–Ω–∏—Ç–æ—Ä–∏–º –ª–æ–≥–∏
tail -f logs/trading_bot.log
```

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ            –ì–õ–ê–í–ù–´–ô –ë–û–¢ (HybridTradingBot)        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ      BYBIT API CLIENT                   ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  - –ü–æ–ª—É—á–µ–Ω–∏–µ OHLCV –¥–∞–Ω–Ω—ã—Ö              ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏—è–º–∏                ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  - Order book –¥–∞–Ω–Ω—ã–µ                   ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                    ‚ñº                             ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ      –ê–ù–ê–õ–ò–ó –°–ò–ì–ù–ê–õ–û–í                    ‚îÇ   ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§   ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ LSTM Model (60%)                     ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ Mean Reversion (25%)                 ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ Microstructure (15%)                 ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ                                         ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ –í—ã—Ö–æ–¥: SIGNAL + CONFIDENCE             ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                    ‚ñº                             ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ      –§–ò–õ–¨–¢–†–´ –í–•–û–î–ê                      ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  - Confidence > 65%                     ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  - –°–ø—Ä–µ–¥ < 0.05%                       ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  - –õ–∏–º–∏—Ç—ã –Ω–∞ –ø–æ–∑–∏—Ü–∏–∏                   ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                    ‚ñº                             ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ      –£–ü–†–ê–í–õ–ï–ù–ò–ï –ü–û–ó–ò–¶–ò–Ø–ú–ò               ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  - Take Profit: +1%                    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  - Stop Loss: -2%                      ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  - Trailing Stop (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)         ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                                                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

```
–ö–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç:

API –ø–æ–ª—É—á–∞–µ—Ç:          –ê–Ω–∞–ª–∏–∑:              –†–µ—à–µ–Ω–∏–µ:         –ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ:
‚îú‚îÄ –°–≤–µ—á–∏ (100+)    ‚îú‚îÄ ML         ‚îú‚îÄ BUY     ‚îú‚îÄ Market order
‚îú‚îÄ Order book      ‚îú‚îÄ MR         ‚îú‚îÄ SELL    ‚îú‚îÄ Set TP/SL
‚îú‚îÄ –¢–∏–∫–µ—Ä           ‚îî‚îÄ MIC        ‚îî‚îÄ SKIP    ‚îî‚îÄ Manage risk
‚îî‚îÄ –ë–∞–ª–∞–Ω—Å
```

---

## –°—Ç—Ä–∞—Ç–µ–≥–∏–∏

### 1. LSTM Model (60% –≤–µ—Å)

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ü—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω—ã (+/-) –Ω–∞ 5-15 –º–∏–Ω—É—Ç
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Deep Learning –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤

**–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
```python
features = [
    'close',           # –¶–µ–Ω–∞ –∑–∞–∫—Ä—ã—Ç–∏—è
    'high', 'low',     # –ú–∞–∫—Å–∏–º—É–º/–º–∏–Ω–∏–º—É–º
    'volume',          # –û–±—ä–µ–º —Ç–æ—Ä–≥–æ–≤–ª–∏
    'rsi',             # Relative Strength Index
    'macd',            # Moving Average Convergence Divergence
    'bb_position'      # –ü–æ–∑–∏—Ü–∏—è –≤ Bollinger Bands
]
```

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
```
Input: (100, 7)
  ‚Üì
LSTM(128) + Dropout(0.2)
  ‚Üì
LSTM(64) + Dropout(0.2)
  ‚Üì
LSTM(32) + Dropout(0.2)
  ‚Üì
Dense(16, ReLU)
  ‚Üì
Dense(1, Sigmoid)  ‚Üí Output: 0-1 (–≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —Ä–æ—Å—Ç–∞)
```

**–ì–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- Lookback period: 100 —Å–≤–µ—á–µ–π (500 –º–∏–Ω—É—Ç = ~8.3 —á–∞—Å–∞)
- Batch size: 32
- Epochs: 20-50
- Optimizer: Adam (learning_rate=0.001)
- Loss: Binary Crossentropy

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```python
lstm = LSTMPricePredictor(lookback_period=100)

# –û–±—É—á–µ–Ω–∏–µ
lstm.train(df, epochs=20, batch_size=32)

# –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ
prediction = lstm.predict(df, return_confidence=True)
# –†–µ–∑—É–ª—å—Ç–∞—Ç: {'direction': 1, 'confidence': 0.75, 'raw_prediction': 0.75}
#            direction: 1=up, 0=down
#            confidence: 0-1 (—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å)
```

### 2. Mean Reversion (25% –≤–µ—Å)

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –¢–æ—Ä–≥—É–µ—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è–º–∏ –æ—Ç —Å—Ä–µ–¥–Ω–µ–≥–æ
- –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç –≤–æ–∑–≤—Ä–∞—Ç —Ü–µ–Ω—ã –∫ —Å–∫–æ–ª—å–∑—è—â–µ–π —Å—Ä–µ–¥–Ω–µ–π

**–õ–æ–≥–∏–∫–∞:**
```python
if price > upper_bollinger_band:
    signal = 'SELL'  # –û–∂–∏–¥–∞–µ–º –ø–∞–¥–µ–Ω–∏–µ
elif price < lower_bollinger_band:
    signal = 'BUY'   # –û–∂–∏–¥–∞–µ–º —Ä–æ—Å—Ç
else:
    signal = None

# –£—Å–∏–ª–µ–Ω–∏–µ –µ—Å–ª–∏ RSI —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–π
if rsi > 70:  # –ü–µ—Ä–µ–∫—É–ø–ª–µ–Ω–Ω–æ—Å—Ç—å
    confidence += 20%
if rsi < 30:  # –ü–µ—Ä–µ–ø—Ä–æ–¥–∞–Ω–Ω–æ—Å—Ç—å
    confidence += 20%
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- SMA Period: 20 —Å–≤–µ—á–µ–π
- Bollinger Bands: 2 sigma
- RSI Period: 14

**–ö–æ–¥:**
```python
mr = MeanReversionAnalyzer(sma_period=20, bb_std=2, rsi_period=14)
result = mr.analyze(df)
# –†–µ–∑—É–ª—å—Ç–∞—Ç: {'signal': 'BUY', 'confidence': 0.65, 'reason': '...'}
```

### 3. Microstructure (15% –≤–µ—Å)

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –¥–∏—Å–±–∞–ª–∞–Ω—Å –≤ order book
- –ò—â–µ—Ç —É—Ä–æ–≤–Ω–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏/—Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–ø—Ä–µ–¥ –º–µ–∂–¥—É bid/ask

**–õ–æ–≥–∏–∫–∞:**
```python
bid_power = sum(top_5_buy_orders)
ask_power = sum(top_5_sell_orders)

buyer_strength = bid_power / (bid_power + ask_power)

if buyer_strength > 0.60:      # –î–æ–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π
    signal = 'BUY'
    confidence = buyer_strength
elif seller_strength > 0.60:   # –î–æ–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤
    signal = 'SELL'
    confidence = seller_strength
```

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- –°–ø—Ä–µ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å < 0.05% –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏
- –û–±—ä–µ–º –Ω–∞ –ª—É—á—à–∏—Ö —É—Ä–æ–≤–Ω—è—Ö –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å > 0

**–ö–æ–¥:**
```python
ms = MicrostructureAnalyzer()
result = ms.analyze(orderbook, current_price)
# –†–µ–∑—É–ª—å—Ç–∞—Ç: {'signal': 'BUY', 'confidence': 0.45, 'bid_power': 1250.5, ...}
```

### –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤ (Weighted Voting)

```python
# –ö–∞–∂–¥–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–∞–µ—Ç —Å–∏–≥–Ω–∞–ª + —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å
ml_signal, ml_conf = lstm.predict(df)        # 60% –≤–µ—Å
mr_signal, mr_conf = mean_reversion.analyze(df)  # 25% –≤–µ—Å
ms_signal, ms_conf = microstructure.analyze(ob)  # 15% –≤–µ—Å

# –í–∑–≤–µ—à–µ–Ω–Ω–æ–µ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ
if ml_signal == 'BUY':
    buy_score += ml_conf * 0.60
elif ml_signal == 'SELL':
    sell_score += ml_conf * 0.60

if mr_signal == 'BUY':
    buy_score += mr_conf * 0.25
elif mr_signal == 'SELL':
    sell_score += mr_conf * 0.25

if ms_signal == 'BUY':
    buy_score += ms_conf * 0.15
elif ms_signal == 'SELL':
    sell_score += ms_conf * 0.15

# –§–∏–Ω–∞–ª—å–Ω—ã–π —Å–∏–≥–Ω–∞–ª
if buy_score > sell_score and buy_score > 0.65:
    final_signal = 'BUY'
    confidence = buy_score
```

---

## API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### BybitClient

```python
from src.api.bybit_client import BybitClient

bybit = BybitClient()
```

#### get_klines(symbol, interval='5', limit=100)
–ü–æ–ª—É—á–∏—Ç—å —Å–≤–µ—á–∏ (OHLCV –¥–∞–Ω–Ω—ã–µ)

```python
df = bybit.get_klines('BTCUSDT', interval='5', limit=100)
# DataFrame columns: timestamp, open, high, low, close, volume, turnover
```

#### get_orderbook(symbol, limit=25)
–ü–æ–ª—É—á–∏—Ç—å order book (—Å—Ç–∞–∫–∞–Ω –æ—Ä–¥–µ—Ä–æ–≤)

```python
ob = bybit.get_orderbook('BTCUSDT', limit=25)
# {'bids': [[price, size], ...], 'asks': [[price, size], ...]}
```

#### get_ticker(symbol)
–ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ –ø–∞—Ä–µ

```python
ticker = bybit.get_ticker('BTCUSDT')
# {'symbol': 'BTCUSDT', 'last_price': 42000, 'bid': 41999, 'ask': 42001, ...}
```

#### get_trading_pairs(min_volume_usdt=100000)
–ü–æ–ª—É—á–∏—Ç—å –ø–∞—Ä—ã, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ –æ–±—ä–µ–º—É

```python
pairs = bybit.get_trading_pairs(min_volume_usdt=100000)
# [{'symbol': 'BTCUSDT', 'volume': 5000000000}, ...]
```

#### create_order(symbol, side, qty, price=None, order_type='Limit')
–°–æ–∑–¥–∞—Ç—å –æ—Ä–¥–µ—Ä

```python
order = bybit.create_order(
    symbol='BTCUSDT',
    side='Buy',
    qty=0.1,
    price=42000,
    order_type='Limit'
)
```

#### close_position(symbol)
–ó–∞–∫—Ä—ã—Ç—å –ø–æ–∑–∏—Ü–∏—é

```python
result = bybit.close_position('BTCUSDT')
```

#### get_position(symbol=None)
–ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–∑–∏—Ü–∏–∏

```python
pos = bybit.get_position('BTCUSDT')
# {'symbol': 'BTCUSDT', 'side': 'Buy', 'size': 0.1, 'entry_price': 42000, ...}
```

#### get_balance()
–ü–æ–ª—É—á–∏—Ç—å –±–∞–ª–∞–Ω—Å

```python
balance = bybit.get_balance()
# {'USDT': {'wallet_balance': 10000, 'available_balance': 9500}, ...}
```

### HybridTradingBot

```python
from src.bot.hybrid_bot import HybridTradingBot

bot = HybridTradingBot()
```

#### analyze_symbol(symbol)
–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–∏–º–≤–æ–ª

```python
result = bot.analyze_symbol('BTCUSDT')
# {
#   'signal': 'BUY',
#   'confidence': 0.72,
#   'ml_signal': 'BUY',
#   'mr_signal': 'SELL',
#   'ms_signal': 'BUY',
#   ...
# }
```

#### run_iteration(trading_pairs)
–ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–¥–Ω—É –∏—Ç–µ—Ä–∞—Ü–∏—é —Ç–æ—Ä–≥–æ–≤–ª–∏

```python
bot.run_iteration(['BTCUSDT', 'ETHUSDT', ...])
```

---

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```python
from src.bot.hybrid_bot import HybridTradingBot
import time

# –°–æ–∑–¥–∞–µ–º –±–æ—Ç–∞
bot = HybridTradingBot()

# –ü–æ–ª—É—á–∞–µ–º –ø–∞—Ä—ã –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏
pairs = bot.get_top_trading_pairs(num_pairs=50, skip_top_n=5)

# –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–æ—Ä–≥–æ–≤–ª—é
while True:
    bot.run_iteration(pairs)
    time.sleep(300)  # –ñ–¥–µ–º 5 –º–∏–Ω—É—Ç
```

### –ü—Ä–∏–º–µ—Ä 2: –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ø–∞—Ä—ã

```python
from src.bot.hybrid_bot import HybridTradingBot

bot = HybridTradingBot()

# –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º BTC
result = bot.analyze_symbol('BTCUSDT')

print(f"Signal: {result['signal']}")
print(f"Confidence: {result['confidence']:.2%}")
print(f"  ML: {result['ml_confidence']:.2%}")
print(f"  MR: {result['mr_confidence']:.2%}")
print(f"  MS: {result['ms_confidence']:.2%}")
```

### –ü—Ä–∏–º–µ—Ä 3: –ë—ç–∫—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```python
from backtest import BacktestEngine

engine = BacktestEngine(initial_balance=10000)
results = engine.backtest('BTCUSDT', days=30)

print(f"Total trades: {results['total_trades']}")
print(f"Win rate: {results['win_rate']:.2%}")
print(f"Total P&L: {results['total_pnl']:.2f} USDT")
print(f"ROI: {results['roi']:.2%}")
```

### –ü—Ä–∏–º–µ—Ä 4: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```python
from src.bot.hybrid_bot import HybridTradingBot

custom_config = {
    'lookback_period': 100,
    'position_size_usdt': 50,      # –ú–µ–Ω—å—à–µ —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏
    'max_positions': 3,             # –ú–µ–Ω—å—à–µ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π
    'leverage': 5,                  # –ú–µ–Ω—å—à–µ –ø–ª–µ—á–æ
    'max_loss_percent': 1.5,        # –ë–æ–ª–µ–µ –∂–µ—Å—Ç–∫–∏–π SL
    'confidence_threshold': 0.75,   # –í—ã—à–µ –ø–æ—Ä–æ–≥ –≤—Ö–æ–¥–∞
    'max_trades_per_symbol_per_day': 10
}

bot = HybridTradingBot(config=custom_config)
```

---

## –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CONFIDENCE_THRESHOLD

```
Lower (0.55):   - –ë–æ–ª—å—à–µ —Å–¥–µ–ª–æ–∫ ‚úÖ
                - –ù–∏–∂–µ win rate ‚ùå
                - –ë–æ–ª—å—à–µ —É–±—ã—Ç–∫–æ–≤ ‚ùå

Medium (0.65):  - –ë–∞–ª–∞–Ω—Å ‚úÖ
                - –•–æ—Ä–æ—à–∏–π win rate ‚úÖ
                - –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ ‚úÖ

Higher (0.75):  - –ú–µ–Ω—å—à–µ —Å–¥–µ–ª–æ–∫ ‚ùå
                - –í—ã—à–µ win rate ‚úÖ
                - –õ—É—á—à–µ –∫–∞—á–µ—Å—Ç–≤–æ ‚úÖ
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ù–∞—á–Ω–∏—Ç–µ —Å 0.65, –ø–æ—Ç–æ–º –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞–π—Ç–µ

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏

```
–ú–∞–ª–µ–Ω—å–∫–∏–π (10-50 USDT):
- –ù–∏–∑–∫–∏–π —Ä–∏—Å–∫
- –ù–∏–∑–∫–∞—è –ø—Ä–∏–±—ã–ª—å
- –•–æ—Ä–æ—à–æ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è ‚úÖ

–°—Ä–µ–¥–Ω–∏–π (50-200 USDT):
- –°—Ä–µ–¥–Ω–∏–π —Ä–∏—Å–∫/–ø—Ä–∏–±—ã–ª—å
- –•–æ—Ä–æ—à–æ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞

–ë–æ–ª—å—à–æ–π (200+ USDT):
- –í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫ ‚ö†Ô∏è
- –í—ã—Å–æ–∫–∞—è –ø—Ä–∏–±—ã–ª—å
- –¢—Ä–µ–±—É–µ—Ç –æ–ø—ã—Ç–∞
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ MAX_LOSS_PERCENT

```
–ñ–µ—Å—Ç–∫–∏–π (1.0%):  - –ú–∞–ª–æ —É–±—ã—Ç–∫–æ–≤ ‚úÖ
                 - –ú–Ω–æ–≥–æ —Å—Ç–æ–ø–ª–æ—Å–æ–≤ ‚ùå
                 
–°—Ä–µ–¥–Ω–∏–π (2.0%):  - –ë–∞–ª–∞–Ω—Å ‚úÖ
                 - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è ‚úÖ
                 
–ú—è–≥–∫–∏–π (3.0%):   - –†–µ–¥–∫–æ —Å—Ç–æ–ø ‚úÖ
                 - –ú–Ω–æ–≥–æ —É–±—ã—Ç–∫–æ–≤ ‚ùå
```

---

## –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### Q: –ú–æ–∂–Ω–æ –ª–∏ —Ç–æ—Ä–≥–æ–≤–∞—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º –∞–∫–∫–∞—É–Ω—Ç–µ?
**A**: –î–∞, –Ω–æ —Å–Ω–∞—á–∞–ª–∞:
1. –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ testnet 1-2 –¥–Ω—è
2. –ù–∞—á–Ω–∏—Ç–µ —Å –º–∞–ª–µ–Ω—å–∫–∏–º —Ä–∞–∑–º–µ—Ä–æ–º (10-50 USDT)
3. –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ø–µ—Ä–≤—ã–µ 24 —á–∞—Å–∞
4. –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞–π—Ç–µ —Ä–∞–∑–º–µ—Ä

### Q: –ö–∞–∫–æ–≤ —Å—Ä–µ–¥–Ω–∏–π ROI?
**A**: 30-75% –≤ –º–µ—Å—è—Ü (–≤ —Ö–æ—Ä–æ—à–∏—Ö —É—Å–ª–æ–≤–∏—è—Ö)
- –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
- –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –¢—Ä–µ–±—É–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### Q: –ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ —É–±—ã—Ç–∫–∞—Ö?
**A**: 
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ (logs/trading_bot.log)
2. –û—Ç—Ä–µ–≥—É–ª–∏—Ä—É–π—Ç–µ CONFIDENCE_THRESHOLD (–≤—ã—à–µ)
3. –£–º–µ–Ω—å—à–∏—Ç–µ —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏
4. –ü–µ—Ä–µ—Å–º–æ—Ç—Ä–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

### Q: –ú–æ–¥–µ–ª—å –Ω–µ –¥–∞–µ—Ç —Å–∏–≥–Ω–∞–ª—ã?
**A**: 
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∏ –¥–∞–Ω–Ω—ã—Ö (>100 —Å–≤–µ—á–µ–π)
2. –ü–µ—Ä–µ–æ–±—É—á–∏—Ç–µ –º–æ–¥–µ–ª—å
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–æ–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç

### Q: API –æ—à–∏–±–∫–∏?
**A**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–ª—é—á–∏ –≤ .env
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ API –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –Ω–∞ Bybit
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ rate limits

### Q: –ù—É–∂–Ω–∞ –ª–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤?
**A**: –î–∞! –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥:
```bash
python backtest.py --symbol BTCUSDT --days 60
```
–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –Ω–∞–π–¥–∏—Ç–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ.

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –î–µ–∫–∞–±—Ä—å 2025
**–í–µ—Ä—Å–∏—è**: 1.0.0
**–°—Ç–∞—Ç—É—Å**: Production Ready
